# Консольное приложение, реализующее функционал формирования чека в магазине
Проект представляет собой консольное приложение, разработанное для формирования чека в магазине с использованием языка программирования Java. Основная задача приложения - обработка заказов, расчет скидок и создание чеков в формате CSV.

# Функциональность
Проект разделен на две ветки:

- #### feature/entry-core:
  - Описание: Базовая функциональность тестового задания.
  - Возможности: Обработка заказов, расчет скидок, создание чеков в файл result.csv.
- #### feature/entry-file:
  - Описание: Расширение для считывания данных о товарах из внешнего файла и сохранения чека в указанный файл.
  - Возможности: Добавление параметров pathToFile и saveToFile для указания путей к файлам с данными и сохранения результатов.

# Структура проекта
- **src/main/java**: Исходные Java файлы проекта.
  - `ru.clevertec.check`: Основные классы приложения.
    - `CheckRunner.java`: Основной класс для запуска приложения и обработки заказов.
    - `service`: Сервисы для работы с продуктами, дисконтными картами и обработки заказов.
    - `factory`: Фабрики для создания объектов.
    - `model`: Модели данных, такие как продукты, дисконтные карты, чеки.
    - `exception`: Исключения, используемые в проекте.
    - `util`: Утилиты, для чтения и записи данных в CSV файлы.
- **src/main/resources**: Ресурсы проекта.
  - `products.csv`: Файл с информацией о продуктах.
  - `discountCards.csv`: Файл с информацией о дисконтных картах.

# Использование
Для запуска приложения используйте следующую команду в консоли:

```bash
java -cp src ./src/main/java/ru/clevertec/check/CheckRunner.java id-quantity discountCard=xxxx balanceDebitCard=xxxx [pathToFile=xxxx saveToFile=xxxx]
```

- **id-quantity**: Идентификаторы товаров и их количество.
- **discountCard=xxxx**: Номер дисконтной карты.
- **balanceDebitCard=xxxx**: Баланс на дебетовой карте.
- **pathToFile=xxxx** (только для feature/entry-file): Путь к файлу с данными о товарах.
- **saveToFile=xxxx** (только для feature/entry-file): Путь к файлу для сохранения результата.
Примеры использования
#### Ветка feature/entry-core:

```bash

java -cp src ./src/main/java/ru/clevertec/check/CheckRunner.java 3-1 2-5 5-1 discountCard=1111 balanceDebitCard=100
```
#### Ветка feature/entry-file:

```
java -cp src ./src/main/java/ru/clevertec/check/CheckRunner.java 1-1 discountCard=1111 balanceDebitCard=12.1 pathToFile=./products.csv saveToFile=./error_result.csv
```

# Обработка ошибок
- **BAD REQUEST**: При неверных входных данных (например, неверно заполнены аргументы, ошибка в количестве товаров, отсутствие продуктов в базе данных). 

- **NOT ENOUGH MONEY**: При недостаточном балансе на дебетовой карте для оплаты чека.

- **INTERNAL SERVER ERROR**: При любых других ситуациях, не учтенных выше (например, ошибка при обработке данных, недоступность сервера и т.д.).

#### Для feature/entry-file :

- **BAD REQUEST**: Если не переданы аргументы `pathToFile` и/или `saveToFile` при чтении списка товаров из внешнего файла и сохранении чека в указанный файл.
Ошибки сохраняются в файлы error_result.csv или result.csv, в зависимости от сценария.

# Автор
Автор проекта: DeLeReaL
